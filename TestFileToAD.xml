<actionDefs xmlns="urn:idauto.net:dss:actiondef"><actionDef changeCount="99" modifiedMs="1629827514607" modifiedBy="2f880768-a064-4aed-80aa-4d86d08e776a" modifiedByName="tmoreland@idauto.net" name="TestFileToAD" category="" returnsValue="false" description=""><argDefs><argDef optional="true" type="boolean" name="DEBUG"/></argDefs><actions><action id="523134CE-34C9-4658-8864-0788C1FCC1AB" name="listFiles" outputVar="files"><arg name="path" value="&quot;/UnitTesting&quot;"/></action><action id="ED42272C-3974-4E16-8089-2FB932E0413B" name="sortArray"><arg name="array" value="files"/></action><action id="4F785371-7543-44FB-8193-54215A452792" name="forEach"><arg name="label" value="TestFileIterator"/><arg name="variable" value="file"/><arg name="collection" value="files"/><arg name="do"><action id="C37070C9-2CF5-4333-AE36-D12865FB69C7" name="if"><arg name="condition" value="!file.includes('FileToAD')"/><arg name="then"><action id="886D22D7-F1DE-4C07-A431-E0AE6ADCCE23" name="continue"><arg name="label" value="TestFileIterator"/></action></arg><arg name="else"/></action><action id="D6AC4C4A-DA47-428D-AA7C-AE2002BCA843" name="log"><arg name="message" value="&quot;========================================&quot;"/><arg name="color" value="&quot;brown&quot;"/></action><action id="F5B756E5-3730-47DA-8EE6-3D8C3806FBEB" name="log"><arg name="message" value="&quot;TEST FILE: &quot; + file"/><arg name="color" value="&quot;brown&quot;"/></action><action id="FE57A95E-55A6-4672-BE1A-BBE756079405" name="loadFileAsString" outputVar="content"><arg name="path" value="file"/></action><action id="1738615C-0AD1-434B-AADD-D6A3137ECDA0" name="parseJSON" outputVar="content"><arg name="json" value="content"/></action><action id="30D3C7BA-46DE-45AC-80B1-73EE654A0DFC" name="forEach"><arg name="label" value="TestsIterator"/><arg name="variable" value="test"/><arg name="collection" value="content.tests"/><arg name="do"><action id="D87B4021-B132-4B55-9EC0-883904323BD9" name="log"><arg name="message" value="&quot;--------------------------------------&quot;"/><arg name="color" value="&quot;brown&quot;"/></action><action id="ABA43696-745C-4753-8220-2620248B9102" name="log"><arg name="message" value="&quot;TEST CASE: &quot; + test.name"/><arg name="color" value="&quot;brown&quot;"/></action><action id="926E464E-81BD-4492-9C7A-4E9199A8D231" name="if"><arg name="condition" value="DEBUG"/><arg name="then"><action id="3DA64543-0F72-4F6C-9775-3378AAA29AE4" name="log" disabled="false"><arg name="message" value="&quot;ASSERTION: &quot; + JSON.stringify(test.assert, null, 2)"/><arg name="color" value="&quot;blue&quot;"/></action></arg><arg name="else"/></action><action id="E7D74DF0-2209-4E4D-B805-17A9AFF97515" name="FileToAD_after" outputVar="actual"><arg name="assertion" value="test"/></action><action id="6AA7E40D-0979-4A14-BCA0-1B2D30040765" name="if"><arg name="condition" value="DEBUG"/><arg name="then"><action id="E859D8A1-F89F-4913-847E-F0A055DFE108" name="log" disabled="false"><arg name="message" value="&quot;OUTPUT: &quot; + JSON.stringify(actual, null, 2)"/><arg name="color" value="&quot;purple&quot;"/></action></arg><arg name="else"/></action><action id="5036FC5D-A4CF-4144-A435-86938C839834" name="createRecordFromObject" outputVar="expect"><arg name="seed" value="test.expect"/></action><action id="82592FBC-BED1-4BB2-B138-80FB823AA847" name="FnHasRecordChanged" outputVar="delta"><arg name="new_record" value="expect"/><arg name="old_record" value="actual"/></action><action id="17CBF3D9-DB46-453B-A10D-AE8F404C308E" name="if"><arg name="condition" value="!delta"/><arg name="then"><action id="286442AF-788F-4692-8D98-1084DEB67FE9" name="log"><arg name="message" value="&quot;--== PASS ==--&quot;"/><arg name="color" value="&quot;green&quot;"/></action></arg><arg name="else"><action id="DCAB9AA4-25FA-4BD0-8C1B-E79B29B3F677" name="log"><arg name="message" value="&quot;--== FAIL ==--&quot;"/><arg name="color" value="&quot;red&quot;"/></action><action id="6C6F9850-4603-4BE3-90E5-E9783C2FC499" name="log"><arg name="message" value="delta"/><arg name="color" value="&quot;red&quot;"/></action></arg></action></arg></action></arg></action></actions></actionDef></actionDefs>